<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MINIMING</title>
    <link rel="shortcut icon" href="./homePage.jpg"/>
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
<header class="header">
    <a href="#" class="logo">
        MINIMING
    </a>
    <nav class="navbar">
        <a href="#" class="item" style="--i:1">Home</a>
        <a href="#" class="item" style="--i:2">Chat</a>
        <a href="#" class="item" style="--i:3">Skills</a>
        <a href="#" class="item" style="--i:4">Me</a>
    </nav>
</header>

<section class="home">
    <div class="home-content">
        <h3>Hello,It's Me</h3>
        <h1>Welcome To Know Me!</h1>
        <h3>个人介绍
            <span class="text"></span>
        </h3>
        <p>越努力，越幸运！！！Lucky.</p>
        <div class="social-media">
            <a href="#" style="--i:10"><i class='bx bx-like'></i></a>
            <a href="#" style="--i:10"><i class='bx bxs-contact'></i></a>
            <a href="#" style="--i:10"><i class='bx bx-camera'></i></a>
            <a href="#" style="--i:10"><i class='bx bx-paper-plane'></i></a>
        </div>
        <a href="#" class="btn">Learn More</a>
    </div>
    <div class="home-img">
        <img src="./walk.gif" alt="">
    </div>
</section>
<section class="chat">
    <div >
        <iframe style="width: 800px; height: 500px" src="https://chat.miniming.icu"></iframe>
    </div>
    <div class="home-img">
        <img src="./homePage.jpg" alt="">
    </div>
</section>

<script>
    document.addEventListener('visibilitychange', function () {
        if (document.visibilityState == 'hidden') {
            normal_title = document.title;
            document.title = '=_=不要走！再看看嘛！';
        } else document.title = normal_title;
    });
    
    var text = document.querySelector('.text'); // 获取显示文本的元素
    var str = ['一名充满好奇心和创造力的白日梦想家.', '喜欢钻研各种与计算机相关的技术。', '练习时长一年半的脱发程序员！']; // 要打印的字符串数组
    function writeText(t, delay = 200) {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                text.innerHTML = t; // 显示当前字符串 t
                resolve(); // Promise 完成
            }, delay) // 延迟 delay 毫秒后执行
        })
    }

    async function main(str) {
        while (true) { // 无限循环
            for (let j = 0; j < str.length; j++) {
                // 写入
                for (let i = 0; i <= str[j].length; i++) {
                    await writeText(str[j].substr(0, i)) // 显示当前字符串的前 i 个字符
                }
                // 回退
                // 回退前先等一秒
                await new Promise((resolve, reject) => {
                    setTimeout(() => {
                        resolve(); // 等待 1000 毫秒后 Promise 完成
                    }, 1000) // 等待 1000 毫秒
                })
                for (let i = str[j].length; i >= 0; i--) {
                    await writeText(str[j].substr(0, i), 200) // 显示当前字符串的前 i 个字符，间隔 200 毫秒
                }
            }
        }
    }

    main(str)

    // 获取导航链接和页面元素
    const navLinks = document.querySelectorAll('.navbar .item');
    const sections = {
        home: document.querySelector('.home'),
        chat: document.querySelector('.chat')
    };

    // 默认显示home部分
    sections.home.style.display = 'flex';

    // 为每个导航链接添加点击事件处理程序
    navLinks.forEach((link) => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const linkText = link.innerText.toLowerCase();
            for (const section in sections) {
                sections[section].style.display = 'none';
            }
            if (linkText === 'home') {
                sections.home.style.display = 'flex';
            } else if (linkText === 'chat') {
                sections.chat.style.display = 'flex';
            }
        });
    });

</script>
</body>

</html>
